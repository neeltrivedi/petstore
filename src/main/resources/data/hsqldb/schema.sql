
DROP TABLE Pet IF EXISTS;

CREATE TABLE Pet (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  name VARCHAR(100) NOT NULL,
  photourl VARCHAR(1000),
  status VARCHAR(100),	
  PRIMARY KEY(id)
);


DROP TABLE users IF EXISTS;

CREATE TABLE users (
  userid INT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  username VARCHAR(100) NOT NULL,
  email VARCHAR(255) NOT NULL,
  password VARCHAR(200) NOT NULL,
  enabled BOOLEAN DEFAULT true NOT NULL,
  PRIMARY KEY (userid),
);



DROP TABLE user_roles IF EXISTS;

CREATE TABLE user_roles (
  user_role_id INT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  userid INT NOT NULL,
  role VARCHAR(45) NOT NULL,
  PRIMARY KEY (user_role_id),
  CONSTRAINT uni_userid_role UNIQUE (role,userid),
  CONSTRAINT fk_userid FOREIGN KEY (userid) REFERENCES users (userid)
);

DROP INDEX fk_user_idx IF EXISTS;
CREATE INDEX fk_user_idx ON user_roles (userid);